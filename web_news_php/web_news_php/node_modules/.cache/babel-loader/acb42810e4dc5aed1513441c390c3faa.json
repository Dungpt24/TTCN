{"ast":null,"code":"var _jsxFileName = \"/media/turborvip/_add_disk0114/project/learn/laravel-web-new/fe/web_news_php/src/component/SignUpForm/SignUpForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styles from './SignUpForm.module.css';\nimport clsx from \"clsx\";\nimport axios from \"axios\";\nimport { memo, useState } from \"react\";\nimport FormInputText from \"../FormInputText/FormInputText\"; // router\n\nimport { useNavigate } from \"react-router-dom\"; // Toast\n\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport notify from \"../../common/notify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignUpForm() {\n  _s();\n\n  let [loading, setLoading] = useState(false);\n  const [inputUsername, setInputUsername] = useState();\n  const [inputPassword, setInputPassword] = useState();\n  const [inputEmail, setInputEmail] = useState();\n  const [inputName, setInputName] = useState();\n  const [inputRePass, setInputRePass] = useState();\n  let navigate = useNavigate();\n\n  const handleSubmit = () => {\n    setLoading(true);\n\n    if (inputPassword === inputRePass) {\n      axios({\n        method: 'post',\n        url: 'http://localhost:1337/signup',\n        data: {\n          username: inputUsername,\n          password: inputRePass,\n          email: inputEmail,\n          name: inputName\n        }\n      }).then(async res => {\n        console.log(\"res\", res.data);\n\n        if (res.data.username === false && res.data.status === 406) {\n          notify('error', 'Username was available!');\n          setLoading(false);\n        } else if (res.data.password === false && res.data.status === 406) {\n          notify('error', 'Email was available!');\n          setLoading(false);\n        } else if (res.data.status === 201) {\n          await notify('success', 'Success!');\n          await setTimeout(() => {\n            navigate(`../login`);\n          }, 4000);\n        } else if (res.data.status === 500) {\n          await notify('error', res.data.error);\n        }\n      }).catch(error => console.log(error));\n    } else {\n      notify('error', 'Re-password was wrong!');\n    }\n  };\n\n  const handleUsername = e => {\n    setInputUsername(e.target.value);\n  };\n\n  const handlePassword = e => {\n    setInputPassword(e.target.value);\n  };\n\n  const handleEmail = e => {\n    setInputEmail(e.target.value);\n  };\n\n  const handleName = e => {\n    setInputName(e.target.value);\n  };\n\n  const handleRePassword = e => {\n    setInputRePass(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"formLogin\",\n    className: styles.loginForm,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.caption,\n      children: \"Sign up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInputText, {\n      width: \"380px\",\n      label: \"Username\",\n      msg: \"You can use letters, numbers and periods.\",\n      require: true,\n      event: handleUsername\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInputText, {\n      type: \"password\",\n      width: \"380px\",\n      label: \"Password\",\n      msg: \"At least 7 characters and 1 letter.\",\n      require: true,\n      event: handlePassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInputText, {\n      type: \"password\",\n      width: \"380px\",\n      label: \"Re-Password\",\n      require: true,\n      event: handleRePassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInputText, {\n      type: \"text\",\n      width: \"380px\",\n      label: \"Name\",\n      require: true,\n      event: handleName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInputText, {\n      type: \"text\",\n      width: \"380px\",\n      label: \"Email\",\n      require: true,\n      event: handleEmail\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.formBtn,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: clsx(styles.btnSignUp, styles.btn),\n        onClick: handleSubmit,\n        onLoad: () => setLoading(!loading),\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignUpForm, \"RsGBnkrVjeFNQsYizlLwY4OkVxw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SignUpForm;\nexport default _c2 = /*#__PURE__*/memo(SignUpForm);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SignUpForm\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","styles","clsx","axios","memo","useState","FormInputText","useNavigate","ToastContainer","notify","SignUpForm","loading","setLoading","inputUsername","setInputUsername","inputPassword","setInputPassword","inputEmail","setInputEmail","inputName","setInputName","inputRePass","setInputRePass","navigate","handleSubmit","method","url","data","username","password","email","name","then","res","console","log","status","setTimeout","error","catch","handleUsername","e","target","value","handlePassword","handleEmail","handleName","handleRePassword","loginForm","caption","formBtn","btnSignUp","btn"],"sources":["/media/turborvip/_add_disk0114/project/learn/laravel-web-new/fe/web_news_php/src/component/SignUpForm/SignUpForm.js"],"sourcesContent":["import React from 'react'\nimport styles from './SignUpForm.module.css'\nimport clsx from \"clsx\"\nimport axios from \"axios\"\nimport { memo, useState } from \"react\"\nimport FormInputText from \"../FormInputText/FormInputText\"\n// router\nimport { useNavigate } from \"react-router-dom\";\n// Toast\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport notify from \"../../common/notify\"\n\nfunction SignUpForm() {\n\n    let [loading, setLoading] = useState(false);\n    const [inputUsername, setInputUsername] = useState();\n    const [inputPassword, setInputPassword] = useState();\n    const [inputEmail, setInputEmail] = useState();\n    const [inputName, setInputName] = useState();\n    const [inputRePass, setInputRePass] = useState();\n\n    let navigate = useNavigate();\n\n    const handleSubmit = () => {\n        setLoading(true);\n        if (inputPassword === inputRePass) {\n            axios({\n                method: 'post',\n                url: 'http://localhost:1337/signup',\n                data: {\n                    username: inputUsername,\n                    password: inputRePass,\n                    email: inputEmail,\n                    name: inputName\n                }\n            })\n                .then(async (res) => {\n                    console.log(\"res\", res.data)\n                    if (res.data.username === false && res.data.status === 406) {\n                        notify('error', 'Username was available!');\n                        setLoading(false);\n                    } else if (res.data.password === false && res.data.status === 406) {\n                        notify('error', 'Email was available!');\n                        setLoading(false);\n                    } else if (res.data.status === 201) {\n                        await notify('success', 'Success!');\n                        await setTimeout(() => {\n                            navigate(`../login`);\n                        }, 4000)\n                    } else if (res.data.status === 500) {\n                        await notify('error', res.data.error);\n                    }\n                })\n                .catch(error => console.log(error));\n        } else {\n            notify('error', 'Re-password was wrong!');\n        }\n\n    }\n    const handleUsername = (e) => { setInputUsername(e.target.value) };\n    const handlePassword = (e) => { setInputPassword(e.target.value) };\n    const handleEmail = (e) => { setInputEmail(e.target.value) };\n    const handleName = (e) => { setInputName(e.target.value) };\n    const handleRePassword = (e) => { setInputRePass(e.target.value) };\n\n    return (\n        <div id=\"formLogin\" className={styles.loginForm}>\n            <div className={styles.caption}>Sign up</div>\n            <FormInputText\n                width='380px'\n                label='Username'\n                msg='You can use letters, numbers and periods.'\n                require\n                event={handleUsername}\n            />\n            <FormInputText\n                type='password'\n                width='380px'\n                label='Password'\n                msg='At least 7 characters and 1 letter.'\n                require\n                event={handlePassword}\n            />\n            <FormInputText\n                type='password'\n                width='380px'\n                label='Re-Password'\n                require\n                event={handleRePassword}\n            />\n            <FormInputText\n                type='text'\n                width='380px'\n                label='Name'\n                require\n                event={handleName}\n            />\n            <FormInputText\n                type='text'\n                width='380px'\n                label='Email'\n                require\n                event={handleEmail}\n            />\n\n            <div className={styles.formBtn}>\n                <button\n                    className={clsx(styles.btnSignUp, styles.btn)}\n                    onClick={handleSubmit}\n                    onLoad={() => setLoading(!loading)}\n                >\n                    Submit\n                </button>\n            </div>\n            <ToastContainer />\n        </div >\n    )\n}\n\nexport default memo(SignUpForm)"],"mappings":"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"},"metadata":{},"sourceType":"module"}