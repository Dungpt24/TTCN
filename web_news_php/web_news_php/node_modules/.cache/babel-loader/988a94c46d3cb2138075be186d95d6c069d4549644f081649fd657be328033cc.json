{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\haha\\\\Documents\\\\Zalo Received Files\\\\web_news_php\\\\web_news_php\\\\src\\\\component\\\\NewsDetailContent\\\\NewsDetailContent.js\",\n  _s = $RefreshSig$();\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport styles from \"./NewsDetailContent.module.css\";\nimport clsx from \"clsx\";\nimport NewsHistoryViewed from \"../NewsHistoryViewed/NewsHistoryViewed\";\nimport { getNewsDetail } from \"../../ApiService\";\nimport parse from \"html-react-parser\";\nimport domtoimage from \"dom-to-image\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst moment = require(\"moment\");\nfunction NewsDetail() {\n  _s();\n  let {\n    idNews\n  } = useParams();\n  const [data, setData] = useState();\n  let sanitizedHtml;\n  const sliceArr = (newsViewedData, dataCompare) => {\n    for (let i = 0; i < newsViewedData.length; i++) {\n      if (newsViewedData[i].id === dataCompare[0].id) {\n        newsViewedData.splice(i, 1);\n      }\n    }\n    return newsViewedData;\n  };\n  const pushLocalStorage = data => {\n    let newsViewedData = JSON.parse(localStorage.getItem(\"newsViewed\"));\n    if (newsViewedData) {\n      let newsData = sliceArr(newsViewedData, data);\n      newsData = [...newsViewedData, ...data];\n      localStorage.setItem(\"newsViewed\", JSON.stringify(newsData));\n    } else {\n      newsViewedData = data;\n      localStorage.setItem(\"newsViewed\", JSON.stringify(newsViewedData));\n    }\n  };\n  useEffect(() => {\n    getNewsDetail(idNews).then(res => {\n      let data = res.data;\n      setData(data);\n      pushLocalStorage([data]);\n    }).catch(error => console.log(error));\n    // eslint-disable-next-line\n  }, [idNews]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: data && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: clsx(styles.titleNews),\n        children: data.caption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(styles.infoNews),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.author,\n          children: data.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.timeCreate,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"uil uil-minus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), moment(data.createdAt).format(\"MMMM Do YYYY, h:mm:ss a\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(styles.descriptionNews),\n        children: data.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: styles.hrNews\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.contentNews,\n        children: parse(data.content)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(NewsHistoryViewed, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(NewsDetail, \"th5CxwaH3uzrds6ULg3bwTQYKno=\", false, function () {\n  return [useParams];\n});\n_c = NewsDetail;\nexport default NewsDetail;\nvar _c;\n$RefreshReg$(_c, \"NewsDetail\");","map":{"version":3,"names":["useParams","useEffect","useState","styles","clsx","NewsHistoryViewed","getNewsDetail","parse","domtoimage","jsxDEV","_jsxDEV","Fragment","_Fragment","moment","require","NewsDetail","_s","idNews","data","setData","sanitizedHtml","sliceArr","newsViewedData","dataCompare","i","length","id","splice","pushLocalStorage","JSON","localStorage","getItem","newsData","setItem","stringify","then","res","catch","error","console","log","children","className","titleNews","caption","fileName","_jsxFileName","lineNumber","columnNumber","infoNews","author","timeCreate","createdAt","format","descriptionNews","description","hrNews","contentNews","content","_c","$RefreshReg$"],"sources":["C:/Users/haha/Documents/Zalo Received Files/web_news_php/web_news_php/src/component/NewsDetailContent/NewsDetailContent.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport styles from \"./NewsDetailContent.module.css\";\nimport clsx from \"clsx\";\nimport NewsHistoryViewed from \"../NewsHistoryViewed/NewsHistoryViewed\";\nimport { getNewsDetail } from \"../../ApiService\";\n\nimport parse from \"html-react-parser\";\nimport domtoimage from \"dom-to-image\";\n\nconst moment = require(\"moment\");\n\nfunction NewsDetail() {\n  let { idNews } = useParams();\n  const [data, setData] = useState();\n  let sanitizedHtml;\n  const sliceArr = (newsViewedData, dataCompare) => {\n    for (let i = 0; i < newsViewedData.length; i++) {\n      if (newsViewedData[i].id === dataCompare[0].id) {\n        newsViewedData.splice(i, 1);\n      }\n    }\n    return newsViewedData;\n  };\n  const pushLocalStorage = (data) => {\n    let newsViewedData = JSON.parse(localStorage.getItem(\"newsViewed\"));\n    if (newsViewedData) {\n      let newsData = sliceArr(newsViewedData, data);\n      newsData = [...newsViewedData, ...data];\n      localStorage.setItem(\"newsViewed\", JSON.stringify(newsData));\n    } else {\n      newsViewedData = data;\n      localStorage.setItem(\"newsViewed\", JSON.stringify(newsViewedData));\n    }\n  };\n  useEffect(() => {\n    getNewsDetail(idNews)\n      .then((res) => {\n        let data = res.data;\n        setData(data);\n        pushLocalStorage([data]);\n      })\n      .catch((error) => console.log(error));\n    // eslint-disable-next-line\n  }, [idNews]);\n  return (\n    <>\n      {data && (\n        <div>\n          <p className={clsx(styles.titleNews)}>{data.caption}</p>\n          <div className={clsx(styles.infoNews)}>\n            <span className={styles.author}>{data.author}</span>\n            <span className={styles.timeCreate}>\n              <i className=\"uil uil-minus\"></i>\n              {moment(data.createdAt).format(\"MMMM Do YYYY, h:mm:ss a\")}\n            </span>\n          </div>\n          <div className={clsx(styles.descriptionNews)}>{data.description}</div>\n          <hr className={styles.hrNews} />\n          <div className={styles.contentNews}>\n            {parse(data.content)}\n          </div>\n          <NewsHistoryViewed />\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default NewsDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}