{"ast":null,"code":"var _jsxFileName = \"/media/turborvip/_add_disk0114/project/learn/laravel-web-new/fe/web_news_php/src/component/SignUpForm/SignUpForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport styles from './SignUpForm.module.css';\nimport clsx from \"clsx\";\nimport axios from \"axios\";\nimport { memo, useState } from \"react\";\nimport FormInputText from \"../FormInputText/FormInputText\"; // router\n\nimport { useNavigate } from \"react-router-dom\"; // Toast\n\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport notify from \"../../common/notify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignUpForm() {\n  _s();\n\n  let [loading, setLoading] = useState(false);\n  const [inputPassword, setInputPassword] = useState();\n  const [inputEmail, setInputEmail] = useState();\n  const [inputName, setInputName] = useState();\n  const [inputRePass, setInputRePass] = useState();\n  let navigate = useNavigate();\n\n  const handleSubmit = () => {\n    setLoading(true);\n\n    if (inputPassword === inputRePass) {\n      axios({\n        method: 'post',\n        url: 'http://localhost:1337/signup',\n        data: {\n          password: inputRePass,\n          email: inputEmail,\n          name: inputName\n        }\n      }).then(async res => {\n        console.log(\"res\", res.data);\n\n        if (res.data.username === false && res.data.status === 406) {\n          notify('error', 'Username was available!');\n          setLoading(false);\n        } else if (res.data.password === false && res.data.status === 406) {\n          notify('error', 'Email was available!');\n          setLoading(false);\n        } else if (res.data.status === 201) {\n          await notify('success', 'Success!');\n          await setTimeout(() => {\n            navigate(`../login`);\n          }, 4000);\n        } else if (res.data.status === 500) {\n          await notify('error', res.data.error);\n        }\n      }).catch(error => console.log(error));\n    } else {\n      notify('error', 'Re-password was wrong!');\n    }\n  };\n\n  const handlePassword = e => {\n    setInputPassword(e.target.value);\n  };\n\n  const handleEmail = e => {\n    setInputEmail(e.target.value);\n  };\n\n  const handleName = e => {\n    setInputName(e.target.value);\n  };\n\n  const handleRePassword = e => {\n    setInputRePass(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"formLogin\",\n    className: styles.loginForm,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.caption,\n      children: \"Sign up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInputText, {\n      type: \"text\",\n      width: \"380px\",\n      label: \"Email\",\n      require: true,\n      event: handleEmail\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInputText, {\n      type: \"text\",\n      width: \"380px\",\n      label: \"Name\",\n      require: true,\n      event: handleName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInputText, {\n      type: \"password\",\n      width: \"380px\",\n      label: \"Password\",\n      msg: \"At least 7 characters and 1 letter.\",\n      require: true,\n      event: handlePassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormInputText, {\n      type: \"password\",\n      width: \"380px\",\n      label: \"Re-Password\",\n      require: true,\n      event: handleRePassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.formBtn,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: clsx(styles.btnSignUp, styles.btn),\n        onClick: handleSubmit,\n        onLoad: () => setLoading(!loading),\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SignUpForm, \"VlLUxj74toAGu6SwJUo3upNE3F8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SignUpForm;\nexport default _c2 = /*#__PURE__*/memo(SignUpForm);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SignUpForm\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","styles","clsx","axios","memo","useState","FormInputText","useNavigate","ToastContainer","notify","SignUpForm","loading","setLoading","inputPassword","setInputPassword","inputEmail","setInputEmail","inputName","setInputName","inputRePass","setInputRePass","navigate","handleSubmit","method","url","data","password","email","name","then","res","console","log","username","status","setTimeout","error","catch","handlePassword","e","target","value","handleEmail","handleName","handleRePassword","loginForm","caption","formBtn","btnSignUp","btn"],"sources":["/media/turborvip/_add_disk0114/project/learn/laravel-web-new/fe/web_news_php/src/component/SignUpForm/SignUpForm.js"],"sourcesContent":["import React from 'react'\nimport styles from './SignUpForm.module.css'\nimport clsx from \"clsx\"\nimport axios from \"axios\"\nimport { memo, useState } from \"react\"\nimport FormInputText from \"../FormInputText/FormInputText\"\n// router\nimport { useNavigate } from \"react-router-dom\";\n// Toast\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport notify from \"../../common/notify\"\n\nfunction SignUpForm() {\n\n    let [loading, setLoading] = useState(false);\n    const [inputPassword, setInputPassword] = useState();\n    const [inputEmail, setInputEmail] = useState();\n    const [inputName, setInputName] = useState();\n    const [inputRePass, setInputRePass] = useState();\n\n    let navigate = useNavigate();\n\n    const handleSubmit = () => {\n        setLoading(true);\n        if (inputPassword === inputRePass) {\n            axios({\n                method: 'post',\n                url: 'http://localhost:1337/signup',\n                data: {\n                    password: inputRePass,\n                    email: inputEmail,\n                    name: inputName\n                }\n            })\n                .then(async (res) => {\n                    console.log(\"res\", res.data)\n                    if (res.data.username === false && res.data.status === 406) {\n                        notify('error', 'Username was available!');\n                        setLoading(false);\n                    } else if (res.data.password === false && res.data.status === 406) {\n                        notify('error', 'Email was available!');\n                        setLoading(false);\n                    } else if (res.data.status === 201) {\n                        await notify('success', 'Success!');\n                        await setTimeout(() => {\n                            navigate(`../login`);\n                        }, 4000)\n                    } else if (res.data.status === 500) {\n                        await notify('error', res.data.error);\n                    }\n                })\n                .catch(error => console.log(error));\n        } else {\n            notify('error', 'Re-password was wrong!');\n        }\n\n    }\n    const handlePassword = (e) => { setInputPassword(e.target.value) };\n    const handleEmail = (e) => { setInputEmail(e.target.value) };\n    const handleName = (e) => { setInputName(e.target.value) };\n    const handleRePassword = (e) => { setInputRePass(e.target.value) };\n\n    return (\n        <div id=\"formLogin\" className={styles.loginForm}>\n            <div className={styles.caption}>Sign up</div>\n            <FormInputText\n                type='text'\n                width='380px'\n                label='Email'\n                require\n                event={handleEmail}\n            />\n            <FormInputText\n                type='text'\n                width='380px'\n                label='Name'\n                require\n                event={handleName}\n            />\n            <FormInputText\n                type='password'\n                width='380px'\n                label='Password'\n                msg='At least 7 characters and 1 letter.'\n                require\n                event={handlePassword}\n            />\n            <FormInputText\n                type='password'\n                width='380px'\n                label='Re-Password'\n                require\n                event={handleRePassword}\n            />\n            <div className={styles.formBtn}>\n                <button\n                    className={clsx(styles.btnSignUp, styles.btn)}\n                    onClick={handleSubmit}\n                    onLoad={() => setLoading(!loading)}\n                >\n                    Submit\n                </button>\n            </div>\n            <ToastContainer />\n        </div >\n    )\n}\n\nexport default memo(SignUpForm)"],"mappings":"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"},"metadata":{},"sourceType":"module"}