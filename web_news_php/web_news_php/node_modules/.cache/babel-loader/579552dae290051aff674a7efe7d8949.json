{"ast":null,"code":"var _jsxFileName = \"/media/turborvip/_add_disk0114/project/learn/laravel-web-new/fe/web_news_php/src/component/ContentHome/InfiniteList/InfiniteList.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect, memo } from \"react\";\nimport styles from \"./InfiniteList.module.css\";\nimport clsx from \"clsx\";\nimport { Link } from \"react-router-dom\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport { css } from \"@emotion/react\";\nimport { getNewsInfinitive } from \"../../../ApiService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst override = css`\n  text-align: center;\n  display: block;\n  border-color: 1ECFA9;\n`;\n\nfunction InfiniteList(_ref) {\n  _s();\n\n  let {\n    state,\n    setState,\n    page,\n    setPage\n  } = _ref;\n  const [loadMore, setLoadMore] = useState(false);\n\n  const getData = () => {\n    getNewsInfinitive(page).then(async res => {\n      let arr = res.data;\n      await setPage(++page);\n      await setState(prev => [...prev, ...arr]);\n      await setLoadMore(false);\n      console.log(\"state\", state);\n    }).catch(error => console.log(error));\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  function handleScroll() {\n    // console.log('height', window.innerHeight + document.documentElement.scrollTop - 250)\n    if (window.innerHeight + document.documentElement.scrollTop >= document.documentElement.offsetHeight - 250) {\n      setLoadMore(true);\n    }\n  }\n\n  useEffect(() => {\n    if (loadMore) {\n      getData();\n    } // eslint-disable-next-line\n\n  }, [loadMore]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx(styles.normalContent, \"row\"),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"list\",\n      className: clsx(\"col-md-9 col-lg-9 col-xl-9 col-12\", styles.itemsNormalContent),\n      children: [state.map(item => /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/news/\" + item.id,\n        className: \"text-decoration-none\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(\"row\", styles.itemNormalContent),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: clsx(\"col-5\", styles.imgNormalContent),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: clsx(\"img-fluid img-thumbnail \", styles.imageItem),\n              src: item.image,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: clsx(\"col-7\", styles.contentNormalContent),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: clsx(styles.titleNormalContent),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: item.caption\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: clsx(styles.descriptionNormalContent),\n              children: item.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.loadingSpin,\n        children: loadMore && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(BeatLoader, {\n            color: \"#1ECFA9\",\n            css: override,\n            loading: loadMore,\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: clsx(\"col-md-3 col-lg-3 col-xl-3 col-0\", styles.allAds),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.imgAds,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: clsx(\"img-fluid img-thumbnail\"),\n          loading: \"lazy\",\n          src: \"https://znews-photo.zingcdn.me/w660/Uploaded/tpuoayp/2022_06_01/Solo_thumbthumb_master.jpg\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.titleAds,\n        children: \"Johnny Depp c\\xF3 th\\u1EC3 tr\\u01A1\\u0309 la\\u0323i 'C\\u01B0\\u1EDBp bi\\u1EC3n v\\xF9ng Caribbean'\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(InfiniteList, \"vpxG4Rb6XWgQHkET9F1x3wQga8k=\");\n\n_c = InfiniteList;\nexport default _c2 = /*#__PURE__*/memo(InfiniteList);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"InfiniteList\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","axios","useState","useEffect","memo","styles","clsx","Link","BeatLoader","css","getNewsInfinitive","override","InfiniteList","state","setState","page","setPage","loadMore","setLoadMore","getData","then","res","arr","data","prev","console","log","catch","error","window","addEventListener","handleScroll","removeEventListener","innerHeight","document","documentElement","scrollTop","offsetHeight","normalContent","itemsNormalContent","map","item","id","itemNormalContent","imgNormalContent","imageItem","image","contentNormalContent","titleNormalContent","caption","descriptionNormalContent","description","loadingSpin","allAds","imgAds","titleAds"],"sources":["/media/turborvip/_add_disk0114/project/learn/laravel-web-new/fe/web_news_php/src/component/ContentHome/InfiniteList/InfiniteList.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect, memo } from \"react\";\nimport styles from \"./InfiniteList.module.css\";\nimport clsx from \"clsx\";\nimport { Link } from \"react-router-dom\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport { css } from \"@emotion/react\";\nimport { getNewsInfinitive } from \"../../../ApiService\";\n\nconst override = css`\n  text-align: center;\n  display: block;\n  border-color: 1ECFA9;\n`;\n\nfunction InfiniteList({ state, setState, page, setPage }) {\n  const [loadMore, setLoadMore] = useState(false);\n\n  const getData = () => {\n    getNewsInfinitive(page)\n      .then(async (res) => {\n        let arr = res.data;\n        await setPage(++page);\n        await setState((prev) => [...prev, ...arr]);\n        await setLoadMore(false);\n\n        console.log(\"state\", state);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  function handleScroll() {\n    // console.log('height', window.innerHeight + document.documentElement.scrollTop - 250)\n    if (\n      window.innerHeight + document.documentElement.scrollTop >=\n      document.documentElement.offsetHeight - 250\n    ) {\n      setLoadMore(true);\n    }\n  }\n\n  useEffect(() => {\n    if (loadMore) {\n      getData();\n    }\n    // eslint-disable-next-line\n  }, [loadMore]);\n\n  return (\n    <div className={clsx(styles.normalContent, \"row\")}>\n      <div\n        id=\"list\"\n        className={clsx(\n          \"col-md-9 col-lg-9 col-xl-9 col-12\",\n          styles.itemsNormalContent\n        )}\n      >\n        {state.map((item) => (\n          <Link\n            to={\"/news/\" + item.id}\n            key={item.id}\n            className=\"text-decoration-none\"\n          >\n            <div className={clsx(\"row\", styles.itemNormalContent)}>\n              <div className={clsx(\"col-5\", styles.imgNormalContent)}>\n                <img\n                  className={clsx(\"img-fluid img-thumbnail \", styles.imageItem)}\n                  src={item.image}\n                  alt=\"\"\n                />\n              </div>\n              <div className={clsx(\"col-7\", styles.contentNormalContent)}>\n                <div className={clsx(styles.titleNormalContent)}>\n                  <div>{item.caption}</div>\n                </div>\n                <div className={clsx(styles.descriptionNormalContent)}>\n                  {item.description}\n                </div>\n              </div>\n            </div>\n          </Link>\n        ))}\n        <div className={styles.loadingSpin}>\n          {loadMore && (\n            <div>\n              <BeatLoader\n                color={\"#1ECFA9\"}\n                css={override}\n                loading={loadMore}\n                size={20}\n              />{\" \"}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className={clsx(\"col-md-3 col-lg-3 col-xl-3 col-0\", styles.allAds)}>\n        <div className={styles.imgAds}>\n          <img\n            className={clsx(\"img-fluid img-thumbnail\")}\n            loading=\"lazy\"\n            src=\"https://znews-photo.zingcdn.me/w660/Uploaded/tpuoayp/2022_06_01/Solo_thumbthumb_master.jpg\"\n            alt=\"\"\n          />\n        </div>\n        <div className={styles.titleAds}>\n          Johnny Depp có thể trở lại 'Cướp biển vùng Caribbean'\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(InfiniteList);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}