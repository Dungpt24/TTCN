{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\haha\\\\Documents\\\\Zalo Received Files\\\\web_news_php\\\\web_news_php\\\\src\\\\component\\\\ContentHome\\\\InfiniteList\\\\InfiniteList.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect, memo } from \"react\";\nimport styles from \"./InfiniteList.module.css\";\nimport clsx from \"clsx\";\nimport { Link } from \"react-router-dom\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport { css } from \"@emotion/react\";\nimport { getNewsInfinitive } from \"../../../ApiService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst override = css`\n  text-align: center;\n  display: block;\n  border-color: 1ECFA9;\n`;\nfunction InfiniteList(_ref) {\n  _s();\n  let {\n    state,\n    setState,\n    page,\n    setPage\n  } = _ref;\n  const [loadMore, setLoadMore] = useState(false);\n  const getData = () => {\n    getNewsInfinitive(page).then(async res => {\n      let arr = res.data;\n      await setPage(++page);\n      await setState(prev => [...prev, ...arr]);\n      await setLoadMore(false);\n      console.log(\"state\", state);\n    }).catch(error => console.log(error));\n  };\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n  function handleScroll() {\n    // console.log('height', window.innerHeight + document.documentElement.scrollTop - 250)\n    if (window.innerHeight + document.documentElement.scrollTop >= document.documentElement.offsetHeight - 250) {\n      setLoadMore(true);\n    }\n  }\n  useEffect(() => {\n    if (loadMore) {\n      getData();\n    }\n    // eslint-disable-next-line\n  }, [loadMore]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx(styles.normalContent, \"row\"),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"list\",\n      className: clsx(\"col-md-9 col-lg-9 col-xl-9 col-12\", styles.itemsNormalContent),\n      children: [state.map(item => /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/news/\" + item.id,\n        className: \"text-decoration-none\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(\"row\", styles.itemNormalContent),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: clsx(\"col-5\", styles.imgNormalContent),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: clsx(\"img-fluid img-thumbnail \", styles.imageItem),\n              src: item.image,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: clsx(\"col-7\", styles.contentNormalContent),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: clsx(styles.titleNormalContent),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: item.caption\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: clsx(styles.descriptionNormalContent),\n              children: item.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.loadingSpin,\n        children: loadMore && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(BeatLoader, {\n            color: \"#1ECFA9\",\n            css: override,\n            loading: loadMore,\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: clsx(\"col-md-3 col-lg-3 col-xl-3 col-0\", styles.allAds),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.imgAds,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: clsx(\"img-fluid img-thumbnail\"),\n          loading: \"lazy\",\n          src: \"https://znews-photo.zingcdn.me/w660/Uploaded/tpuoayp/2022_06_01/Solo_thumbthumb_master.jpg\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.titleAds,\n        children: \"Johnny Depp c\\xF3 th\\u1EC3 tr\\u01A1\\u0309 la\\u0323i 'C\\u01B0\\u1EDBp bi\\u1EC3n v\\xF9ng Caribbean'\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(InfiniteList, \"vpxG4Rb6XWgQHkET9F1x3wQga8k=\");\n_c = InfiniteList;\nexport default _c2 = /*#__PURE__*/memo(InfiniteList);\nvar _c, _c2;\n$RefreshReg$(_c, \"InfiniteList\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","axios","useState","useEffect","memo","styles","clsx","Link","BeatLoader","css","getNewsInfinitive","jsxDEV","_jsxDEV","override","InfiniteList","_ref","_s","state","setState","page","setPage","loadMore","setLoadMore","getData","then","res","arr","data","prev","console","log","catch","error","window","addEventListener","handleScroll","removeEventListener","innerHeight","document","documentElement","scrollTop","offsetHeight","className","normalContent","children","id","itemsNormalContent","map","item","to","itemNormalContent","imgNormalContent","imageItem","src","image","alt","fileName","_jsxFileName","lineNumber","columnNumber","contentNormalContent","titleNormalContent","caption","descriptionNormalContent","description","loadingSpin","color","loading","size","allAds","imgAds","titleAds","_c","_c2","$RefreshReg$"],"sources":["C:/Users/haha/Documents/Zalo Received Files/web_news_php/web_news_php/src/component/ContentHome/InfiniteList/InfiniteList.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { useState, useEffect, memo } from \"react\";\nimport styles from \"./InfiniteList.module.css\";\nimport clsx from \"clsx\";\nimport { Link } from \"react-router-dom\";\nimport BeatLoader from \"react-spinners/BeatLoader\";\nimport { css } from \"@emotion/react\";\nimport { getNewsInfinitive } from \"../../../ApiService\";\n\nconst override = css`\n  text-align: center;\n  display: block;\n  border-color: 1ECFA9;\n`;\n\nfunction InfiniteList({ state, setState, page, setPage }) {\n  const [loadMore, setLoadMore] = useState(false);\n\n  const getData = () => {\n    getNewsInfinitive(page)\n      .then(async (res) => {\n        let arr = res.data;\n        await setPage(++page);\n        await setState((prev) => [...prev, ...arr]);\n        await setLoadMore(false);\n\n        console.log(\"state\", state);\n      })\n      .catch((error) => console.log(error));\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  function handleScroll() {\n    // console.log('height', window.innerHeight + document.documentElement.scrollTop - 250)\n    if (\n      window.innerHeight + document.documentElement.scrollTop >=\n      document.documentElement.offsetHeight - 250\n    ) {\n      setLoadMore(true);\n    }\n  }\n\n  useEffect(() => {\n    if (loadMore) {\n      getData();\n    }\n    // eslint-disable-next-line\n  }, [loadMore]);\n\n  return (\n    <div className={clsx(styles.normalContent, \"row\")}>\n      <div\n        id=\"list\"\n        className={clsx(\n          \"col-md-9 col-lg-9 col-xl-9 col-12\",\n          styles.itemsNormalContent\n        )}\n      >\n        {state.map((item) => (\n          <Link\n            to={\"/news/\" + item.id}\n            key={item.id}\n            className=\"text-decoration-none\"\n          >\n            <div className={clsx(\"row\", styles.itemNormalContent)}>\n              <div className={clsx(\"col-5\", styles.imgNormalContent)}>\n                <img\n                  className={clsx(\"img-fluid img-thumbnail \", styles.imageItem)}\n                  src={item.image}\n                  alt=\"\"\n                />\n              </div>\n              <div className={clsx(\"col-7\", styles.contentNormalContent)}>\n                <div className={clsx(styles.titleNormalContent)}>\n                  <div>{item.caption}</div>\n                </div>\n                <div className={clsx(styles.descriptionNormalContent)}>\n                  {item.description}\n                </div>\n              </div>\n            </div>\n          </Link>\n        ))}\n        <div className={styles.loadingSpin}>\n          {loadMore && (\n            <div>\n              <BeatLoader\n                color={\"#1ECFA9\"}\n                css={override}\n                loading={loadMore}\n                size={20}\n              />{\" \"}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className={clsx(\"col-md-3 col-lg-3 col-xl-3 col-0\", styles.allAds)}>\n        <div className={styles.imgAds}>\n          <img\n            className={clsx(\"img-fluid img-thumbnail\")}\n            loading=\"lazy\"\n            src=\"https://znews-photo.zingcdn.me/w660/Uploaded/tpuoayp/2022_06_01/Solo_thumbthumb_master.jpg\"\n            alt=\"\"\n          />\n        </div>\n        <div className={styles.titleAds}>\n          Johnny Depp có thể trở lại 'Cướp biển vùng Caribbean'\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(InfiniteList);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}