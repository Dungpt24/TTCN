{"ast":null,"code":"var _jsxFileName = \"/media/turborvip/_add_disk0114/project/learn/laravel-web-new/fe/web_news_php/src/component/NewsDetailContent/NewsDetailContent.js\",\n    _s = $RefreshSig$();\n\nimport { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport styles from \"./NewsDetailContent.module.css\";\nimport clsx from \"clsx\";\nimport NewsHistoryViewed from \"../NewsHistoryViewed/NewsHistoryViewed\";\nimport { getNewsDetail } from \"../../ApiService\";\nimport parse from \"html-react-parser\";\nimport domtoimage from \"dom-to-image\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst moment = require(\"moment\");\n\nfunction NewsDetail() {\n  _s();\n\n  let {\n    idNews\n  } = useParams();\n  const [data, setData] = useState();\n  let sanitizedHtml;\n\n  const sliceArr = (newsViewedData, dataCompare) => {\n    for (let i = 0; i < newsViewedData.length; i++) {\n      if (newsViewedData[i].id === dataCompare[0].id) {\n        newsViewedData.splice(i, 1);\n      }\n    }\n\n    return newsViewedData;\n  };\n\n  const pushLocalStorage = data => {\n    let newsViewedData = JSON.parse(localStorage.getItem(\"newsViewed\"));\n\n    if (newsViewedData) {\n      let newsData = sliceArr(newsViewedData, data);\n      newsData = [...newsViewedData, ...data];\n      localStorage.setItem(\"newsViewed\", JSON.stringify(newsData));\n    } else {\n      newsViewedData = data;\n      localStorage.setItem(\"newsViewed\", JSON.stringify(newsViewedData));\n    }\n  };\n\n  useEffect(() => {\n    getNewsDetail(idNews).then(res => {\n      let data = res.data;\n      setData(data);\n      pushLocalStorage([data]);\n    }).catch(error => console.log(error)); // eslint-disable-next-line\n  }, [idNews]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: data && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: clsx(styles.titleNews),\n        children: data.caption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(styles.infoNews),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.author,\n          children: data.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.timeCreate,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"uil uil-minus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this), moment(data.createdAt).format(\"MMMM Do YYYY, h:mm:ss a\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(styles.descriptionNews),\n        children: data.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: styles.hrNews\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.contentNews,\n        children: parse(data.content)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(NewsHistoryViewed, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(NewsDetail, \"th5CxwaH3uzrds6ULg3bwTQYKno=\", false, function () {\n  return [useParams];\n});\n\n_c = NewsDetail;\nexport default NewsDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewsDetail\");","map":{"version":3,"names":["useParams","useEffect","useState","styles","clsx","NewsHistoryViewed","getNewsDetail","parse","domtoimage","moment","require","NewsDetail","idNews","data","setData","sanitizedHtml","sliceArr","newsViewedData","dataCompare","i","length","id","splice","pushLocalStorage","JSON","localStorage","getItem","newsData","setItem","stringify","then","res","catch","error","console","log","titleNews","caption","infoNews","author","timeCreate","createdAt","format","descriptionNews","description","hrNews","contentNews","content"],"sources":["/media/turborvip/_add_disk0114/project/learn/laravel-web-new/fe/web_news_php/src/component/NewsDetailContent/NewsDetailContent.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport styles from \"./NewsDetailContent.module.css\";\nimport clsx from \"clsx\";\nimport NewsHistoryViewed from \"../NewsHistoryViewed/NewsHistoryViewed\";\nimport { getNewsDetail } from \"../../ApiService\";\n\nimport parse from \"html-react-parser\";\nimport domtoimage from \"dom-to-image\";\n\nconst moment = require(\"moment\");\n\nfunction NewsDetail() {\n  let { idNews } = useParams();\n  const [data, setData] = useState();\n  let sanitizedHtml;\n  const sliceArr = (newsViewedData, dataCompare) => {\n    for (let i = 0; i < newsViewedData.length; i++) {\n      if (newsViewedData[i].id === dataCompare[0].id) {\n        newsViewedData.splice(i, 1);\n      }\n    }\n    return newsViewedData;\n  };\n  const pushLocalStorage = (data) => {\n    let newsViewedData = JSON.parse(localStorage.getItem(\"newsViewed\"));\n    if (newsViewedData) {\n      let newsData = sliceArr(newsViewedData, data);\n      newsData = [...newsViewedData, ...data];\n      localStorage.setItem(\"newsViewed\", JSON.stringify(newsData));\n    } else {\n      newsViewedData = data;\n      localStorage.setItem(\"newsViewed\", JSON.stringify(newsViewedData));\n    }\n  };\n  useEffect(() => {\n    getNewsDetail(idNews)\n      .then((res) => {\n        let data = res.data;\n        setData(data);\n        pushLocalStorage([data]);\n      })\n      .catch((error) => console.log(error));\n    // eslint-disable-next-line\n  }, [idNews]);\n  return (\n    <>\n      {data && (\n        <div>\n          <p className={clsx(styles.titleNews)}>{data.caption}</p>\n          <div className={clsx(styles.infoNews)}>\n            <span className={styles.author}>{data.author}</span>\n            <span className={styles.timeCreate}>\n              <i className=\"uil uil-minus\"></i>\n              {moment(data.createdAt).format(\"MMMM Do YYYY, h:mm:ss a\")}\n            </span>\n          </div>\n          <div className={clsx(styles.descriptionNews)}>{data.description}</div>\n          <hr className={styles.hrNews} />\n          <div className={styles.contentNews}>\n            {parse(data.content)}\n          </div>\n          <NewsHistoryViewed />\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default NewsDetail;\n"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,kBAA1B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,iBAAP,MAA8B,wCAA9B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AAEA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;;;AAEA,MAAMC,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EACpB,IAAI;IAAEC;EAAF,IAAaZ,SAAS,EAA1B;EACA,MAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,EAAhC;EACA,IAAIa,aAAJ;;EACA,MAAMC,QAAQ,GAAG,CAACC,cAAD,EAAiBC,WAAjB,KAAiC;IAChD,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,cAAc,CAACG,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;MAC9C,IAAIF,cAAc,CAACE,CAAD,CAAd,CAAkBE,EAAlB,KAAyBH,WAAW,CAAC,CAAD,CAAX,CAAeG,EAA5C,EAAgD;QAC9CJ,cAAc,CAACK,MAAf,CAAsBH,CAAtB,EAAyB,CAAzB;MACD;IACF;;IACD,OAAOF,cAAP;EACD,CAPD;;EAQA,MAAMM,gBAAgB,GAAIV,IAAD,IAAU;IACjC,IAAII,cAAc,GAAGO,IAAI,CAACjB,KAAL,CAAWkB,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAArB;;IACA,IAAIT,cAAJ,EAAoB;MAClB,IAAIU,QAAQ,GAAGX,QAAQ,CAACC,cAAD,EAAiBJ,IAAjB,CAAvB;MACAc,QAAQ,GAAG,CAAC,GAAGV,cAAJ,EAAoB,GAAGJ,IAAvB,CAAX;MACAY,YAAY,CAACG,OAAb,CAAqB,YAArB,EAAmCJ,IAAI,CAACK,SAAL,CAAeF,QAAf,CAAnC;IACD,CAJD,MAIO;MACLV,cAAc,GAAGJ,IAAjB;MACAY,YAAY,CAACG,OAAb,CAAqB,YAArB,EAAmCJ,IAAI,CAACK,SAAL,CAAeZ,cAAf,CAAnC;IACD;EACF,CAVD;;EAWAhB,SAAS,CAAC,MAAM;IACdK,aAAa,CAACM,MAAD,CAAb,CACGkB,IADH,CACSC,GAAD,IAAS;MACb,IAAIlB,IAAI,GAAGkB,GAAG,CAAClB,IAAf;MACAC,OAAO,CAACD,IAAD,CAAP;MACAU,gBAAgB,CAAC,CAACV,IAAD,CAAD,CAAhB;IACD,CALH,EAMGmB,KANH,CAMUC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CANpB,EADc,CAQd;EACD,CATQ,EASN,CAACrB,MAAD,CATM,CAAT;EAUA,oBACE;IAAA,UACGC,IAAI,iBACH;MAAA,wBACE;QAAG,SAAS,EAAET,IAAI,CAACD,MAAM,CAACiC,SAAR,CAAlB;QAAA,UAAuCvB,IAAI,CAACwB;MAA5C;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAK,SAAS,EAAEjC,IAAI,CAACD,MAAM,CAACmC,QAAR,CAApB;QAAA,wBACE;UAAM,SAAS,EAAEnC,MAAM,CAACoC,MAAxB;UAAA,UAAiC1B,IAAI,CAAC0B;QAAtC;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAM,SAAS,EAAEpC,MAAM,CAACqC,UAAxB;UAAA,wBACE;YAAG,SAAS,EAAC;UAAb;YAAA;YAAA;YAAA;UAAA,QADF,EAEG/B,MAAM,CAACI,IAAI,CAAC4B,SAAN,CAAN,CAAuBC,MAAvB,CAA8B,yBAA9B,CAFH;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eASE;QAAK,SAAS,EAAEtC,IAAI,CAACD,MAAM,CAACwC,eAAR,CAApB;QAAA,UAA+C9B,IAAI,CAAC+B;MAApD;QAAA;QAAA;QAAA;MAAA,QATF,eAUE;QAAI,SAAS,EAAEzC,MAAM,CAAC0C;MAAtB;QAAA;QAAA;QAAA;MAAA,QAVF,eAWE;QAAK,SAAS,EAAE1C,MAAM,CAAC2C,WAAvB;QAAA,UACGvC,KAAK,CAACM,IAAI,CAACkC,OAAN;MADR;QAAA;QAAA;QAAA;MAAA,QAXF,eAcE,QAAC,iBAAD;QAAA;QAAA;QAAA;MAAA,QAdF;IAAA;MAAA;MAAA;MAAA;IAAA;EAFJ,iBADF;AAsBD;;GAvDQpC,U;UACUX,S;;;KADVW,U;AAyDT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}